(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){var n=a(169);e.exports=n.connect("https://team-h.herokuapp.com/")},192:function(e,t){},195:function(e,t,a){var n=a(42),o=function(e){return e.json()};e.exports={getLogin:function(){return n("/login",{},"get")},getRegister:function(){return n("/register",{},"get")},getForgotPassword:function(){return n("/forgot-password",{},"get")},postLogin:function(e,t){return n("/login",{email:e,password:t}).then(o)},postRegister:function(e,t,a){return n("/register",{name:e,email:t,password:a})},postForgotPassword:function(e){return n("/forgot-password",{email:e})},postLogout:function(){return n("/logout",{})}}},196:function(e,t,a){var n=a(42);e.exports={getGame:function(e){return n("/game/".concat(e),{},"get")},postGameChat:function(e){var t=e.roomId,a=e.message;return n("/game/".concat(t,"/chat"),{message:a})},postGameClick:function(e,t){return n("/game/".concat(e,"/click"),{clickInput:t})},postGameEndTurn:function(e){return n("/game/".concat(e,"/endTurn"),{})},postGameForfeit:function(e){return n("/game/".concat(e,"/forfeit"),{})},postGameJoin:function(e){return n("/game/".concat(e,"/join"),{})},postGameStartGame:function(e){return n("/game/".concat(e,"/startGame"),{})},postGameUpdate:function(e){return n("/game/".concat(e,"/update"),{})}}},197:function(e,t,a){var n=a(42),o=a(74);e.exports={getGameLobby:function(e){return n("/game-lobby/".concat(e),{},"get")},getGameLobbyInfo:function(e){return n("/game-lobby/".concat(e,"/info"),{},"get").then(o)},getGameLobbyPlayersStatus:function(e){return n("/game-lobby/".concat(e,"/status"),{},"get").then(o)},postGameLobbyChat:function(e){var t=e.roomId,a=e.message;return n("/game-lobby/".concat(t,"/chat"),{message:a})},postGameLobbyEnter:function(e){return n("/game-lobby/".concat(e,"/enter"),{})},postGameLobbyJoin:function(e){return n("/game-lobby/".concat(e,"/join"),{}).then(o)},postGameLobbyLeave:function(e){return n("/game-lobby/".concat(e,"/leave"),{}).then(o)},postGameLobbyStart:function(e){return n("/game-lobby/".concat(e,"/start"),{}).then(o)},postGameLobbyTogglePlayerReady:function(e){return n("/game-lobby/".concat(e,"/toggle-ready")).then(o)}}},198:function(e,t,a){var n=a(42),o=a(74);e.exports={getMainLobby:function(){return n("/main-lobby",{},"get")},postMainLobby:function(){return n("/main-lobby",{}).then(o)},postMainLobbyChat:function(e){var t=e.message;return n("/main-lobby/chat",{message:t})},postMainLobbyCreateGame:function(e){return n("/main-lobby/create-game",{playerCapacity:e}).then(o)}}},199:function(e,t,a){},220:function(e,t,a){},222:function(e,t,a){},230:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(31),l=a.n(r),c=(a(85),a(8)),s=a(9),i=a(11),m=a(10),u=a(12),p=a(32),b=a(242),d=a(79),h=a(30),y=a(27),g=a.n(y),f=[{path:"/",exact:!0,component:function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(g.a,null,o.a.createElement("h1",null,"Using the homepage to test the ui easier, delete later"),o.a.createElement("ul",null,Pe.map(function(e){return o.a.createElement("li",{style:{margin:"15px"}},o.a.createElement("a",{className:"button",href:"".concat(e.path)},e.component.name))})))}}]),t}(n.Component)}],E=a(5),v=a(13),O=a.n(v),j=a(15),C=a.n(j),k=a(14),S=a.n(k),G=a(29),w=a.n(G),L=a(18),I=a.n(L),N=a(6),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onOptionChange=function(e){a.setState({option:e.target.value})},a.onPromptOptionsSubmit=function(e){e.preventDefault(),a.props.onPromptOptionsSubmit(a.state.option),a.setState({option:0})},a.state={option:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.card,a=e.onEndTurn,n=e.onForfeit,r=e.general_info,l=e.prompts_info;return console.log("PROMPTS_INFO_!",l),o.a.createElement(I.a,null,o.a.createElement(I.a,null,o.a.createElement(w.a,{src:""+"/cards/".concat(t.type,"/").concat(t.name,".jpg")})),o.a.createElement(I.a,{style:{padding:"12px"}},o.a.createElement("p",null,"Turn: ",r.turnCount),o.a.createElement("p",null,"Current Player: ",r.currentPlayer),o.a.createElement("p",null,"Cards Played: ",r.cardsPlayed)),o.a.createElement(I.a,{style:{padding:"12px"}},o.a.createElement("p",null,"Prompt"),o.a.createElement("p",null,l.promptMessage),o.a.createElement("p",null,l.promptPlayer.id),o.a.createElement("form",{onSubmit:this.onPromptOptionsSubmit},o.a.createElement(N.Field,null,o.a.createElement(N.Label,null,"Options:"),l.options?o.a.createElement(N.Select,{onChange:this.onOptionChange,value:this.state.option},l.options.map(function(e,t){return o.a.createElement("option",{key:t,value:t},e)})):o.a.createElement("input",{onChange:this.onOptionChange}),o.a.createElement(N.Field,null,o.a.createElement(N.Control,null,o.a.createElement(S.a,{className:"is-info is-fullwidth"},"Send")))))),o.a.createElement(I.a,{style:{padding:"12px"}},o.a.createElement(S.a,{onClick:a},"End Turn"),o.a.createElement(S.a,{onClick:n},"Forfeit")))}}]),t}(n.Component),M=a(23),P=a.n(M),R=a(22),T=a.n(R),A=a(17),F=a.n(A),J=a(33),D=a.n(J),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={show:!1},a.open=function(){return a.setState({show:!0})},a.close=function(){return a.setState({show:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S.a,{onClick:this.open},"+"),o.a.createElement(D.a,Object.assign({show:this.state.show,onClose:this.close},this.props.modal),this.props.children))}}]),t}(n.Component);_.defaultProps={modal:{}};var H=_,U=function(e,t){return"".concat({bank_cards:"\ud83c\udfe6",property_cards:"\ud83c\udfe0",building_cards:"\ud83c\udfe2",action_cards:"\ud83d\udeb4\u200d"}[t]," $").concat(function(e){var t=0;return Array.isArray(e[0])?e.map(function(e){return e.map(function(e){return t+=e.value})}):e.map(function(e){return t+=e.value}),t}(e))},z=function(e,t){return o.a.createElement(T.a,{kind:"child",size:"property_cards"===t||"bank_cards"===t?4:2},o.a.createElement(C.a,null,o.a.createElement(P.a,{renderAs:"nav"},o.a.createElement(P.a.Side,{align:"left"},o.a.createElement(P.a.Item,null,U(e,t))),o.a.createElement(P.a.Side,{align:"right"},o.a.createElement(P.a.Item,null,o.a.createElement(H,null,function(e){return Array.isArray(e[0])?o.a.createElement("div",null,e.map(function(e){return o.a.createElement("div",null,e.map(function(e,t){return o.a.createElement(w.a,{key:t,src:""+"/cards/".concat(e.type,"/").concat(e.name,".jpg"),alt:"card"})}))})):o.a.createElement("div",null,e.map(function(e,t){return o.a.createElement(w.a,{key:t,src:""+"/cards/".concat(e.type,"/").concat(e.name,".jpg"),alt:"card"})}))}(e))))),o.a.createElement(F.a,{style:{overflowX:"auto"}},o.a.createElement(T.a,null,function(e,t){var a;if("property_cards"===t)a=e.map(function(e,t){return e.length?o.a.createElement(F.a,{key:t},o.a.createElement(F.a.Header,null,o.a.createElement(F.a.Header.Title,null,e.length)),o.a.createElement(F.a.Content,{className:e[0].mainColor},"P")):o.a.createElement("div",null,"[]")});else if("building_cards"===t){var n={house:0,hotel:0};e.map(function(e){return n[e.name]++}),a=Object.keys(n).map(function(e,t){return o.a.createElement(F.a,{key:t},o.a.createElement(F.a.Header,null,o.a.createElement(F.a.Header.Title,null,n[e])),o.a.createElement(F.a.Content,null,e))})}else if("action_cards"===t)a=0===e.length?[]:e.map(function(e,t){return o.a.createElement(F.a,{key:t},o.a.createElement(F.a.Header,null,o.a.createElement(F.a.Header.Title,null,e.name)),o.a.createElement(F.a.Content,null,e.mainColor||"_"))});else if("bank_cards"===t){var r={1:0,2:0,3:0,4:0,5:0,10:0};e.map(function(e){return r[e.value]++}),a=Object.keys(r).map(function(e,t){return o.a.createElement(F.a,{key:t},o.a.createElement(F.a.Header,null,o.a.createElement(F.a.Header.Title,null,r[e])),o.a.createElement(F.a.Content,null,"$",e))})}return a}(e,t).map(function(e,t){return o.a.createElement(T.a,{key:t,style:{paddingRight:8}},e)})))))},B=function(e){var t=e.player_info;return o.a.createElement(T.a,{kind:"parent",size:12},z(t.bank_cards,"bank_cards"),z(t.property_cards,"property_cards"),z(t.action_cards,"action_cards"),z(t.building_cards,"building_cards"))},W=function(e){var t,a=e.hand,n=e.handleClick;return t=Array.isArray(a)?a.map(function(e,t){return o.a.createElement(T.a,{key:t,kind:"child",size:1},o.a.createElement("h1",null,e.id),o.a.createElement(w.a,{onClick:function(){return n(e)},src:""+"/cards/".concat(e.type,"/").concat(e.name,".jpg"),alt:"hand-card"}))}):o.a.createElement("div",null,"#Cards: ",a),o.a.createElement(T.a,{kind:"parent",size:12,style:{justifyContent:"center"}},t)},$=function(e){var t=e.player_info,a=e.showHand,n=void 0!==a&&a,r=e.handleClick;return o.a.createElement("div",null,o.a.createElement(T.a,{kind:"ancestor"},o.a.createElement(B,{player_info:t})),n?o.a.createElement(T.a,{kind:"ancestor"},o.a.createElement(W,{hand:t.hand,handleClick:r})):null)},X=function(e){var t=e.players_info,a=e.userId,n={2:[12],3:[6,6],4:[6,6,10],5:[6,6,6,6]};console.log(t);var r=0;return o.a.createElement(O.a,null,t.map(function(e,l){return e.id!==a?o.a.createElement(O.a.Column,{key:l,size:n[t.length][r++],style:{margin:"0 auto"}},o.a.createElement($,{player_info:e})):null}).filter(function(e){return null!==e}))},K=function(e){var t=e.deckCount;e.discard;return o.a.createElement(T.a,{kind:"ancestor",style:{justifyContent:"center",alignItems:"center",marginLeft:0,marginRight:0},className:"has-background-grey-darker"},o.a.createElement(T.a,{kind:"parent",size:1},o.a.createElement(T.a,{kind:"child",style:{padding:2}},o.a.createElement(C.a,null,t)),o.a.createElement(T.a,{kind:"child",style:{padding:2}},o.a.createElement(w.a,{src:"/cards/spawned.jpg",alt:"Discard"}))))},Q=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userId,a=e.players_info,n=e.general_info,r=e.onHandCardClicked,l=a.filter(function(e){return e.id===t})[0];return o.a.createElement("div",{className:"has-background-white-ter",style:{height:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"stretch",padding:8}},o.a.createElement(X,{players_info:a,userId:t}),o.a.createElement(K,{deckCount:n.deckCount,discard:n.discard}),o.a.createElement($,{player_info:l,showHand:!0,handleClick:r}))}}]),t}(n.Component),Y=a(43),Z=(a(61),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onMessageReceived=a.onMessageReceived.bind(Object(E.a)(Object(E.a)(a))),a.props.socket.on(a.props.roomId,a.onMessageReceived),a.state={log:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.ps=new Y.a(l.a.findDOMNode(this))}},{key:"componentDidUpdate",value:function(e){this.ps.update()}},{key:"onMessageReceived",value:function(e){this.setState({log:this.state.log.concat(e)})}},{key:"render",value:function(){return o.a.createElement(C.a,null,this.state.log.map(function(e,t){return o.a.createElement("p",{key:t}," ",e," ")}))}}]),t}(n.Component)),V=a(24),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(V.a)({},e.target.name,t))},a.onSubmit=function(e){e.preventDefault(),a.props.api({roomId:a.props.roomId,message:a.state.message}),a.setState({message:""})},a.onChange=a.onChange.bind(Object(E.a)(Object(E.a)(a))),a.onSubmit=a.onSubmit.bind(Object(E.a)(Object(E.a)(a))),a.state={message:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.message;return o.a.createElement(C.a,null,o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(N.Field,{className:"has-addons"},o.a.createElement(N.Control,{className:"is-expanded"},o.a.createElement(N.Input,{name:"message",type:"text",onChange:this.onChange,value:e,placeholder:"Type your message"})),o.a.createElement(N.Control,null,o.a.createElement(S.a,{className:"is-info"},"Send")))))}}]),t}(n.Component),ee=a(3),te=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return o.a.createElement("div",{className:"gamechat"},o.a.createElement(Z,{socket:ee.socket,roomId:"game:".concat(e,":chat")}),o.a.createElement(q,{roomId:e,api:ee.Game.postGameChat}))}}]),t}(n.Component),ae=(a(199),[{path:"/game/:id",exact:!0,component:function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){ee.Game.getGame(a.props.match.params.id).then(function(e){e.ok?e.text().then(function(e){e=JSON.parse(e),a.setState({userId:e.id,userName:e.name,host:e.host,load:!0})}):window.location="/login"})},a.onGameUpdate=function(e){e&&a.setState({data:e})},a.onGameForfeit=function(e){Object(p.toast)(e)},a.onStartGame=function(e){ee.Game.postGameStartGame(a.props.match.params.id).then(function(e){return ee.Game.postGameUpdate(a.props.match.params.id)})},a.onStartGameNotifyAll=function(e){a.setState({start_game:!0})},a.onPromptOptionsSubmit=function(e){ee.Game.postGameClick(a.props.match.params.id,e)},a.handleForfeit=function(e){ee.Game.postGameForfeit(a.props.match.params.id),window.location="/main-lobby"},a.handleHandCardClicked=function(e){a.setState({cardClicked:e})},a.handleEndTurn=function(e){ee.Game.postGameEndTurn(a.props.match.params.id)},a.onStartGame=a.onStartGame.bind(Object(E.a)(Object(E.a)(a))),a.onGameUpdate=a.onGameUpdate.bind(Object(E.a)(Object(E.a)(a))),a.state={userId:null,userName:null,game_socket:ee.socket,host:!1,start_game:!1,load:!1,data:{},cardClicked:{}};var n=a.props.match.params.id;return ee.Game.postGameJoin(n),ee.socket.on("game:".concat(n,":start-game"),a.onStartGameNotifyAll),ee.socket.on("game:".concat(n,":game-update"),a.onGameUpdate),ee.socket.on("game:".concat(n,":game-forfeit"),a.onGameForfeit),a.handleEndTurn=a.handleEndTurn.bind(Object(E.a)(Object(E.a)(a))),a.handleForfeit=a.handleForfeit.bind(Object(E.a)(Object(E.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.start_game,a=e.load,n=e.host,r=e.data,l=e.cardClicked;return a?t&&r.players_info?(console.log("data is: ",r),o.a.createElement(O.a,null,o.a.createElement(O.a.Column,{size:10},o.a.createElement(Q,{userId:this.state.userId,general_info:r.general_info,players_info:r.players_info,onHandCardClicked:this.handleHandCardClicked})),o.a.createElement(O.a.Column,{size:2},o.a.createElement(x,{card:l,general_info:r.general_info,prompts_info:r.prompts_info,onPromptOptionsSubmit:this.onPromptOptionsSubmit,onEndTurn:this.handleEndTurn,onForfeit:this.handleForfeit}),o.a.createElement(te,{match:this.props.match})))):n?o.a.createElement(C.a,null,o.a.createElement(S.a,{onClick:this.onStartGame},"Start Game")):o.a.createElement(C.a,null,o.a.createElement(S.a,{onClick:this.onStartGame},"Waiting for host to start game...")):o.a.createElement("div",null,"Loading")}}]),t}(n.Component)}]),ne=a(19),oe=a.n(ne),re=a(25),le=a.n(re),ce=a(75),se=a.n(ce),ie=function(e){var t=e.title;return o.a.createElement(oe.a,{color:"success"},o.a.createElement(oe.a.Brand,null,o.a.createElement(oe.a.Item,{className:"is-paddingless",renderAs:"a",href:"/login"},o.a.createElement("img",{src:se.a,alt:""}))),o.a.createElement(oe.a.Menu,null,o.a.createElement(oe.a.Container,null,o.a.createElement(oe.a.Item,{href:"#"},"Monopoly Deal")),o.a.createElement(oe.a.Container,null,o.a.createElement(oe.a.Item,{renderAs:"div"},o.a.createElement(le.a,{size:3},t))),o.a.createElement(oe.a.Container,{position:"end"},o.a.createElement(oe.a.Item,{renderAs:"div",className:"has-dropdown is-hoverable"},o.a.createElement(oe.a.Link,null,"Username"),o.a.createElement(oe.a.Dropdown,{className:"is-right"},o.a.createElement(oe.a.Item,{value:"item",onClick:function(){ee.Auth.postLogout().then(function(e){e.error&&console.log("error on logout"),e.ok&&(window.location="/login")})}},"Logout"))))))},me=a(36),ue=a.n(me),pe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.props.status){var e=this.props.status.map(function(e,t){return o.a.createElement(ue.a,{key:t},"[",e.id,"]",e.name)}),t=this.props.status.map(function(e,t){return e.ready?o.a.createElement(ue.a,{key:t},"Ready"):o.a.createElement(ue.a,{key:t},"Not Ready")});return o.a.createElement(C.a,null,o.a.createElement(O.a,null,o.a.createElement(O.a.Column,null,e),o.a.createElement(O.a.Column,null,t)))}return o.a.createElement(C.a,null,"Loading Player Status...")}}]),t}(n.Component),be=(a(220),[{path:"/game-lobby/:id",exact:!0,component:function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onEnterGame=a.onEnterGame.bind(Object(E.a)(Object(E.a)(a))),a.onLeaveGame=a.onLeaveGame.bind(Object(E.a)(Object(E.a)(a))),a.onPlayerReady=a.onPlayerReady.bind(Object(E.a)(Object(E.a)(a))),a.onPlayerUnready=a.onPlayerUnready.bind(Object(E.a)(Object(E.a)(a))),a.onStartGame=a.onStartGame.bind(Object(E.a)(Object(E.a)(a))),a.onStart=a.onStart.bind(Object(E.a)(Object(E.a)(a))),a.onReady=a.onReady.bind(Object(E.a)(Object(E.a)(a))),a.onExit=a.onExit.bind(Object(E.a)(Object(E.a)(a)));var n=a.props.match.params.id;return a.state={gameId:n,lobbyName:"".concat(n,"'s Lobby"),startRender:!1,host:!1,userId:null,userName:null,playersStatus:null,socket:ee.socket},ee.GameLobby.postGameLobbyEnter(n),ee.socket.on("game-lobby:".concat(n,":enter-game"),a.onEnterGame),ee.socket.on("game-lobby:".concat(n,":leave-game"),a.onLeaveGame),ee.socket.on("game-lobby:".concat(n,":player-ready"),a.onPlayerReady),ee.socket.on("game-lobby:".concat(n,":player-unready"),a.onPlayerUnready),ee.socket.on("game-lobby:".concat(n,":start-game"),a.onStartGame),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;ee.GameLobby.getGameLobby(this.state.gameId).then(function(t){t.ok?t.text().then(function(t){t=JSON.parse(t),e.setState({userId:t.id}),e.setState({userName:t.name}),ee.GameLobby.getGameLobbyPlayersStatus(e.state.gameId).then(function(t){t.result.map(function(t){return e.state.userId===t.id&&e.setState({host:t.Players[0].host}),t.ready=t.Players[0].ready}),e.setState({playersStatus:t.result}),e.setState({startRender:!0})})}):window.location="/main-lobby"})}},{key:"onEnterGame",value:function(e){var t=this;this.state.gameId===e&&ee.GameLobby.getGameLobbyPlayersStatus(this.state.gameId).then(function(e){e.result.map(function(e){return e.ready=e.Players[0].ready}),t.setState({players_status:e.result})})}},{key:"onLeaveGame",value:function(e){if(this.state.gameId===e.gameId){var t=this.state.playersStatus;this.setState({playersStatus:t.filter(function(t){return t.id!==e.userId})}),this.state.userId===e.userId&&(window.location="/main-lobby")}}},{key:"onPlayerReady",value:function(e){for(var t=this.state.playersStatus,a=t.length,n=0;n<a;n++)t[n].id===e.userId&&(t[n].ready=!0);this.setState({playerStatus:t})}},{key:"onPlayerUnready",value:function(e){for(var t=this.state.playersStatus,a=t.length,n=0;n<a;n++)t[n].id===e.userId&&(t[n].ready=!1);this.setState({playerStatus:t})}},{key:"onStartGame",value:function(e){window.location="/game/".concat(this.state.gameId)}},{key:"onStart",value:function(e){ee.GameLobby.postGameLobbyStart(this.state.gameId).then(function(e){e.message&&Object(p.toast)(e.message)})}},{key:"onReady",value:function(e){ee.GameLobby.postGameLobbyTogglePlayerReady(this.state.gameId).then(function(e){})}},{key:"onExit",value:function(e){ee.GameLobby.postGameLobbyLeave(this.state.gameId).then(function(e){return window.location="/main-lobby"})}},{key:"render",value:function(){return this.state.startRender?o.a.createElement(C.a,{className:"has-background-grey-lighter"},o.a.createElement(ie,{title:this.state.lobbyName}),o.a.createElement(I.a,null,o.a.createElement(O.a,null,o.a.createElement(O.a.Column,{className:"has-background-black-ter"},o.a.createElement(pe,{status:this.state.playersStatus})),o.a.createElement(O.a.Column,{size:"5",className:"game-lobby-chat"},o.a.createElement(Z,{socket:this.state.socket,roomId:"game-lobby:".concat(this.state.gameId,":chat")}))),o.a.createElement(q,{roomId:this.state.gameId,api:ee.GameLobby.postGameLobbyChat})),o.a.createElement(I.a,null,o.a.createElement(P.a,null,o.a.createElement(P.a.Item,null,this.state.host?o.a.createElement(S.a,{onClick:this.onStart,className:"is-large"},"Start"):o.a.createElement("div",null)),o.a.createElement(P.a.Item,null,o.a.createElement(S.a,{onClick:this.onReady,className:"is-large"},"Ready")),o.a.createElement(P.a.Item,null,o.a.createElement(S.a,{onClick:this.onExit,className:"is-large"},"Exit")),o.a.createElement(P.a.Item,null)))):o.a.createElement(C.a,null,"Loading Page...")}}]),t}(n.Component)}]),de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onEnter=a.onEnter.bind(Object(E.a)(Object(E.a)(a))),a.onJoin=a.onJoin.bind(Object(E.a)(Object(E.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onEnter",value:function(e){window.location="/game-lobby/".concat(this.props.gameId)}},{key:"onJoin",value:function(e){var t=this;ee.GameLobby.postGameLobbyJoin(this.props.gameId).then(function(e){e.result&&(window.location="/game-lobby/".concat(t.props.gameId))})}},{key:"render",value:function(){var e=this;if(this.props.gameLobby.playerList){var t,a=!1,n=this.props.gameLobby.playerList.map(function(t,n){return e.props.userId===t.id&&(a=!0),o.a.createElement("li",{key:n},o.a.createElement(ue.a,null,t.name))});return t=a?o.a.createElement(S.a,{onClick:this.onEnter,className:"is-large"},"Enter"):o.a.createElement(S.a,{onClick:this.onJoin,className:"is-large"},"Join"),o.a.createElement(C.a,{className:"has-background-success"},this.props.gameLobby.id,o.a.createElement(O.a,null,o.a.createElement(O.a.Column,null,this.props.gameLobby.playerNum," /"," ",this.props.gameLobby.playerCap),o.a.createElement(O.a.Column,null,n),o.a.createElement(O.a.Column,null,t)))}return o.a.createElement(C.a,null,"Loading Lobby #",this.props.gameLobby.id,"'s info")}}]),t}(n.Component),he=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.ps=new Y.a(l.a.findDOMNode(this))}},{key:"componentDidUpdate",value:function(e){this.ps.update()}},{key:"render",value:function(){var e,t=this;return this.props.gameLobbies&&(e=this.props.gameLobbies.map(function(e){return o.a.createElement(de,{key:e.id,gameLobby:e,userId:t.props.userId,gameId:e.id})})),o.a.createElement(C.a,null,e)}}]),t}(n.Component),ye=(a(222),[{path:"/main-lobby",exact:!0,component:function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onCreate=function(e){e.preventDefault(),ee.MainLobby.postMainLobbyCreateGame(a.state.playerCapacity).then(function(e){window.location="/game-lobby/".concat(e.result.id)})},a.onPlayerCapacityChange=function(e){a.setState({playerCapacity:e.target.value})},a.onCreateGame=a.onCreateGame.bind(Object(E.a)(Object(E.a)(a))),a.onEndGame=a.onEndGame.bind(Object(E.a)(Object(E.a)(a))),a.onJoinGame=a.onJoinGame.bind(Object(E.a)(Object(E.a)(a))),a.onLeaveGame=a.onLeaveGame.bind(Object(E.a)(Object(E.a)(a))),a.onStartGame=a.onStartGame.bind(Object(E.a)(Object(E.a)(a))),a.onCreate=a.onCreate.bind(Object(E.a)(Object(E.a)(a))),a.state={startRender:!1,playerCapacity:2,userId:null,userName:null,lobbies:[],socket:ee.socket},ee.socket.on("main-lobby:create-game",a.onCreateGame),ee.socket.on("main-lobby:end-game",a.onEndGame),ee.socket.on("main-lobby:join-game",a.onJoinGame),ee.socket.on("main-lobby:leave-game",a.onLeaveGame),ee.socket.on("main-lobby:start-game",a.onStartGame),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;ee.MainLobby.getMainLobby().then(function(t){t.ok?t.text().then(function(t){t=JSON.parse(t),e.setState({userId:t.id}),e.setState({userName:t.name}),e.setState({startRender:!0}),ee.MainLobby.postMainLobby().then(function(t){var a=t.result;a.map(function(t,n){return ee.GameLobby.getGameLobbyInfo(t.id).then(function(o){a[n].id=t.id,a[n].playerList=o.result,a[n].playerNum=o.result.length,a[n].playerCap=t.player_cap,a[n].status=t.status,e.setState({lobbies:a})})})})}):window.location="/login"})}},{key:"onCreateGame",value:function(e){var t=this,a=this.state.lobbies,n={id:e.gameId,playerCap:e.playerCap,status:"open"};ee.GameLobby.getGameLobbyInfo(e.gameId).then(function(e){n.playerList=e.result,n.playerNum=e.result.length,a=a.concat(n),t.setState({lobbies:a})})}},{key:"onEndGame",value:function(e){}},{key:"onJoinGame",value:function(e){for(var t=this,a=this.state.lobbies.length,n=0,o=0;o<a;o++)if(this.state.lobbies[o].id===e.gameId){n=o;break}ee.GameLobby.getGameLobbyInfo(e.gameId).then(function(e){var a=t.state.lobbies;a[n].playerList=e.result,a[n].playerNum=e.result.length,t.setState({lobbies:a})})}},{key:"onLeaveGame",value:function(e){for(var t=this,a=this.state.lobbies.length,n=0,o=0;o<a;o++)if(this.state.lobbies[o].id===parseInt(e.gameId)){n=o;break}ee.GameLobby.getGameLobbyInfo(e.gameId).then(function(e){var a=t.state.lobbies;e.result.length?(a[n].playerList=e.result,a[n].playerNum=e.result.length):a.splice(n,1),t.setState({lobbies:a})})}},{key:"onStartGame",value:function(e){for(var t=this.state.lobbies.length,a=0,n=0;n<t;n++)if(this.state.lobbies[n].id===parseInt(e.gameId)){a=n;break}var o=this.state.lobbies;o.splice(a,1),this.setState({lobbies:o})}},{key:"render",value:function(){return this.state.startRender?o.a.createElement("div",{className:"boxcolor"},o.a.createElement(ie,{title:"Main Lobby"}),o.a.createElement(O.a,null,o.a.createElement(O.a.Column,null,o.a.createElement(he,{key:"gameLobbies",gameLobbies:this.state.lobbies,userId:this.state.userId}),o.a.createElement(C.a,null,o.a.createElement("form",{onSubmit:this.onCreate},o.a.createElement(N.Label,null,"Choose player capacity:"),o.a.createElement(N.Field,{className:"is-grouped"},o.a.createElement(N.Select,{onChange:this.onPlayerCapacityChange,value:this.state.playerCapacity},o.a.createElement("option",{value:2},"2"),o.a.createElement("option",{value:3},"3"),o.a.createElement("option",{value:4},"4"),o.a.createElement("option",{value:5},"5")),o.a.createElement(N.Control,null,o.a.createElement(S.a,{className:"is-info",type:"submit"},"Make a Room")))))),o.a.createElement(O.a.Column,{className:"main-lobby-chat is-two-fifths"},o.a.createElement(Z,{socket:this.state.socket,roomId:"main-lobby:chat"}),o.a.createElement(q,{roomId:null,api:ee.MainLobby.postMainLobbyChat})))):o.a.createElement(C.a,null,"Loading Page...")}}]),t}(n.Component)}]),ge=[{path:"/404",exact:!0,component:function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"404")}}]),t}(n.Component)}],fe=a(53),Ee=a.n(fe),ve=a(28),Oe=a.n(ve),je=a(54),Ce=a.n(je),ke=a(76),Se=a.n(ke),Ge=(a(230),function(){return o.a.createElement(Ce.a,{className:"is-success is-small"},o.a.createElement(Ce.a.Body,null,o.a.createElement(Oe.a,{className:"is-centered"},o.a.createElement(Oe.a.Column,{className:"is-centered imgSize",offset:null},o.a.createElement("div",{style:{width:300}},o.a.createElement(w.a,{className:"is-centered",src:Se.a}))))))}),we=[{path:"/register",exact:!0,component:function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",email:"",password:"",modal_display:!1,modal_message:""},a.onChange=function(e){a.setState(Object(V.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),ee.Auth.postRegister(a.state.name,a.state.email,a.state.password).then(function(e){e.error?(a.setState({modal_message:e.error.errors[0].message}),a.setState({modal_display:!0})):window.location="/main-lobby"})},a.onModalClick=function(e){a.setState({modal_display:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){ee.Auth.getRegister().then(function(e){e.ok&&(window.location="/main-lobby")})}},{key:"render",value:function(){return o.a.createElement(Ee.a,{className:"is-fullhd"},o.a.createElement(Ge,null),o.a.createElement(D.a,{show:this.state.modal_display,onClose:this.onModalClick,closeOnEsc:!0,closeOnBlur:!0},o.a.createElement(D.a.Content,{style:{backgroundColor:"white"},onClick:this.onModalClick},o.a.createElement(I.a,{className:"has-text-centered has-text-danger is-size-4"},this.state.modal_message))),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(Oe.a,{className:"is-centered"},o.a.createElement(Oe.a.Column,{className:"is-3"},o.a.createElement(le.a,{className:"has-text-centered has-text-black"},"Register"),o.a.createElement(N.Field,null,o.a.createElement(N.Control,{className:"control-padding-vertical"},o.a.createElement(N.Input,{name:"name",type:"text",onChange:this.onChange,value:this.state.name,placeholder:"Type your in-game name"}))),o.a.createElement(N.Field,null,o.a.createElement(N.Control,null,o.a.createElement(N.Input,{name:"email",type:"email",onChange:this.onChange,value:this.state.email,placeholder:"Type your email"}))),o.a.createElement(N.Field,null,o.a.createElement(N.Control,null,o.a.createElement(N.Input,{name:"password",type:"password",onChange:this.onChange,value:this.state.password,placeholder:"Type your password"}))),o.a.createElement(N.Field,null,o.a.createElement(N.Control,null,o.a.createElement(S.a,{className:"is-info is-fullwidth"},"Send")))))))}}]),t}(n.Component)}],Le=a(77),Ie=a.n(Le),Ne=[{path:"/login",exact:!0,component:function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:"",modal_display:!1,modal_message:""},a.onChange=function(e){a.setState(Object(V.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),ee.Auth.postLogin(a.state.email,a.state.password).then(function(e){e.error?(a.setState({modal_message:"Invalid email & password combination"}),a.setState({modal_display:!0})):window.location="/main-lobby"})},a.onModalClick=function(e){a.setState({modal_display:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){ee.Auth.getLogin().then(function(e){e.ok&&(window.location="/main-lobby")})}},{key:"render",value:function(){return o.a.createElement(g.a,{className:"is-fullhd"},o.a.createElement(Ge,null),o.a.createElement(D.a,{show:this.state.modal_display,onClose:this.onModalClick,closeOnEsc:!0,closeOnBlur:!0},o.a.createElement(D.a.Content,{style:{backgroundColor:"white"},onClick:this.onModalClick},o.a.createElement(I.a,{className:"has-text-centered has-text-danger is-size-4"},this.state.modal_message))),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(Oe.a,{className:"is-centered"},o.a.createElement(Oe.a.Column,{className:"is-3 "},o.a.createElement(le.a,{className:"has-text-centered has-text-black"},"Login"),o.a.createElement(N.Field,null,o.a.createElement(N.Control,{className:"has-icons-left"},o.a.createElement(Ie.a,{icon:"",color:"info"}),o.a.createElement(N.Input,{name:"email",type:"email",onChange:this.onChange,value:this.state.email,placeholder:"Type your email"}))),o.a.createElement(N.Field,null,o.a.createElement(N.Control,null,o.a.createElement(N.Input,{name:"password",type:"password",onChange:this.onChange,value:this.state.password,placeholder:"Type your password"}))),o.a.createElement(N.Field,null,o.a.createElement(N.Control,null,o.a.createElement(S.a,{className:"is-info is-fullwidth"},"Send"))),o.a.createElement("p",null,o.a.createElement("a",{href:"/register"},"register"),"\xa0\xb7\xa0",o.a.createElement("a",{href:"/forgot-password"},"forgot password"))))))}}]),t}(n.Component)}],xe=[{path:"/forgot-password",exact:!0,component:function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",error_message:null},a.onChange=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(V.a)({},e.target.name,t))},a.onSubmit=function(e){e.preventDefault(),ee.Auth.postForgotPassword(a.state.email).then(function(e){e.error?(a.setState({error_message:"Invalid email"}),a.setState({modal_display:!0})):window.location="/"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error_message;return o.a.createElement(g.a,{className:"is-fullhd"},o.a.createElement(Ge,null),o.a.createElement(I.a,null,o.a.createElement(g.a,null,a?o.a.createElement("div",{className:"has-text-danger"},a):null,o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(O.a,{className:"is-centered"},o.a.createElement(O.a.Column,{className:"is-two-fifths"},o.a.createElement(C.a,{className:"has-background-light"},o.a.createElement(N.Field,null,o.a.createElement(le.a,{className:"has-text-centered has-text-black"},"Forgot Password"),o.a.createElement(N.Control,null,o.a.createElement(N.Input,{name:"email",type:"email",onChange:this.onChange,placeholder:"Email",value:t}))),o.a.createElement(N.Field,null,o.a.createElement(N.Control,{className:"has-text-centered"},o.a.createElement(S.a,null,"Submit"))))))))))}}]),t}(n.Component)}],Me=[{path:"/new-password",exact:!0,component:function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={password:""},a.onChange=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(V.a)({},e.target.name,t))},a.onSubmit=function(e){},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.password;return o.a.createElement(g.a,{className:"is-fullhd"},o.a.createElement(Ge,null),o.a.createElement(I.a,null,o.a.createElement(g.a,null,o.a.createElement(O.a,{className:"is-centered"},o.a.createElement(O.a.Column,{className:"is-two-fifths"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(N.Field,null,o.a.createElement(le.a,{className:"has-text-centered has-text-black"},"New Password"),o.a.createElement(N.Control,null,o.a.createElement(N.Input,{name:"password",type:"password",onChange:this.onChange,value:e}))),o.a.createElement(N.Field,null,o.a.createElement(N.Control,{className:"has-text-centered"},o.a.createElement(S.a,null,"Submit")))))))))}}]),t}(n.Component)}],Pe=[].concat(Object(h.a)(f),Object(h.a)(ae),Object(h.a)(be),Object(h.a)(ye),Object(h.a)(we),Object(h.a)(Ne),Object(h.a)(xe),Object(h.a)(Me)).concat(ge),Re=(a(235),o.a.createContext()),Te=(Re.Consumer,function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={notify:function(e){return Object(p.toast)(e)}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(Re.Provider,{value:this.state},this.props.children)}}]),t}(n.Component)),Ae=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Te,null,o.a.createElement(b.a,null,Object(d.a)(Pe)),o.a.createElement(p.ToastContainer,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},3:function(e,t,a){var n=a(168),o=a(195),r=a(196),l=a(197),c=a(198);e.exports={socket:n,Auth:o,Game:r,GameLobby:l,MainLobby:c}},42:function(e,t){e.exports=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return fetch(function(e){return"/api".concat(e)}(e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={method:arguments.length>1?arguments[1]:void 0,credentials:"include",headers:{"Content-Type":"application/json"}};return Object.keys(e).length>0&&(t.body=JSON.stringify(e)),t}(t,a))}},74:function(e,t){e.exports=function(e){return e.ok?e.text().then(function(e){return JSON.parse(e)}):e}},75:function(e,t,a){e.exports=a.p+"static/media/header_logo.90b2b56e.png"},76:function(e,t,a){e.exports=a.p+"static/media/header_logo.90b2b56e.png"},80:function(e,t,a){e.exports=a(239)},85:function(e,t,a){}},[[80,2,1]]]);
//# sourceMappingURL=main.6333e774.chunk.js.map